{% extends 'base.html' %}

{% block content %}
<div class="container py-5">
    <h3 class="fw-bold mb-4 text-white">Your Orders</h3>
    
    {% for b in bookings %}
    <div class="glass-panel mb-4 p-0 overflow-hidden">
        <div class="p-3 d-flex justify-content-between align-items-center" style="background: rgba(255,255,255,0.05)">
            <div>
                <span class="text-white fw-bold">Order #{{ b.id }}</span>
                <span class="text-white-50 small ms-2">| {{ b.date_created|date:"M d, Y" }}</span>
            </div>
            <span class="badge {% if b.status == 'Completed' %}bg-success{% else %}bg-warning text-dark{% endif %} shadow-sm">
                {{ b.status }}
            </span>
        </div>
        
        <div class="p-4">
            {% for item in b.items.all %}
            <div class="d-flex justify-content-between border-bottom border-secondary py-2">
                <span class="text-white">{{ item.quantity }} x {{ item.service.name }}</span>
                <span class="text-info">₹{{ item.price }}</span>
            </div>
            {% endfor %}
            
            <div class="row mt-4 pt-2">
                <div class="col-md-8 text-white-50 small">
                    <i class="fa fa-map-marker-alt me-1"></i> {{ b.address }}<br>
                    <i class="fa fa-clock me-1"></i> {{ b.booking_date }} at {{ b.booking_time }}
                </div>
                <div class="col-md-4 text-end">
                    <small class="text-white-50">TOTAL AMOUNT</small>
                    <h3 class="text-neon-blue fw-bold m-0" style="color:var(--neon-blue)">₹{{ b.total_amount }}</h3>
                </div>
            </div>
        </div>
    </div>
    {% empty %}
    <div class="text-center py-5 glass-panel">
        <i class="fa fa-folder-open fa-3x text-white-50 mb-3"></i>
        <h4 class="text-white">No active orders</h4>
        <a href="/" class="btn btn-outline-light mt-3">Browse Services</a>
    </div>
    {% endfor %}
</div>
{% endblock %}